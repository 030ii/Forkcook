<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="order">
	<select id="orderTotalCount" resultType="int">
		select count(*) from orders
	</select>
	<insert id="orderInsert">
	
	</insert>
	<select id="orderList" resultType="odto">
		select distinct o.ordernum, u.name as uname, s.name as sname, o.ordertype, o.orderdate, o.orderstate, g.totalprice	
		from orders o, users u, store s, (select o.ordernum, sum(o.mtotalprice) as totalprice from orders o group by o.ordernum) g
		where o.unum = u.num and o.snum = s.num and o.ordernum = g.ordernum
	</select>
	<update id="orderUpdate">
	
	</update>
	<delete id="orderDelete">
	
	</delete>
</mapper>